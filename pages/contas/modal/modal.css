/* modal.css
   ------------------------------------------------------------
   Estilos para os modais de “Contas” (Cadastrar, Editar, Excluir).
   Este arquivo DEVE ser carregado APÓS o style.css, pois faz
   uso exclusivo das variáveis (--*) definidas em style.css.

   No <head> da sua página, certifique-se de ter:
   ------------------------------------------------------------
   <link rel="stylesheet" href="css/style.css">
   <link rel="stylesheet" href="css/modal.css">
   ------------------------------------------------------------
*/

/*==============================================================================
  1) ANIMAÇÃO GERAL (fade-in)
==============================================================================*/
.modal.fade .modal-dialog {
  animation: fadeIn 0.4s var(--transition-timing);
}

@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(-10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/*==============================================================================
  2) CONTAINER DO MODAL
==============================================================================*/
.modal {
  font-family: var(--font-family-base, 'Montserrat', sans-serif);
}

/*==============================================================================
  3) “CAIXA” DO MODAL (modal-content)
==============================================================================*/
.modal-content {
  background-color: var(--color-surface);
  border-radius: var(--border-radius-md);
  border: var(--border-width) solid var(--color-border);
  overflow: hidden;
  box-shadow: var(--shadow-md);
}

/*==============================================================================
  4) CABEÇALHO DO MODAL
==============================================================================*/
.modal-header {
  padding: var(--spacing-3) var(--spacing-3);
  background-image: linear-gradient(
    135deg,
    var(--color-primary-500),
    var(--color-primary-400)
  );
  color: var(--color-white);
  position: relative;
}

.modal-header .modal-title {
  margin: 0 auto;
  font-size: var(--font-size-lg);
  font-weight: var(--font-weight-semibold);
  line-height: var(--line-height-base);
  text-align: center;
}

.modal-header .close {
  position: absolute;
  right: var(--spacing-4);
  top: var(--spacing-4);
  font-size: var(--font-size-xl);
  color: var(--color-white);
  background: transparent;
  border: none;
  opacity: 0.8;
  transition:
    transform var(--transition-duration-fast) var(--transition-timing),
    opacity  var(--transition-duration-fast) var(--transition-timing);
}

.modal-header .close:hover {
  opacity: 1;
  transform: rotate(90deg);
}

/*==============================================================================
  5) CORPO DO MODAL (modal-body)
  — Área interna escurecida conforme desejado
==============================================================================*/
.modal-body {
  padding: var(--spacing-3);
  background-color: var(--color-background-alt);
  color: var(--color-text);
  font-size: var(--font-size-base);
}

/*==============================================================================
  6) RODAPÉ DO MODAL
==============================================================================*/
.modal-footer {
  padding: var(--spacing-3);
  background-color: var(--color-background-alt);
  display: flex;
  justify-content: flex-end;
  gap: var(--spacing-2);
}

/*==============================================================================
  7) FORM CONTROLS + FLOATING LABELS
==============================================================================*/
.form-group {
  position: relative;
  margin-bottom: var(--spacing-4);
}

.form-group .form-control {
  width: 100%;
  padding: var(--spacing-2) var(--spacing-3);
  font-size: var(--font-size-base);
  background-color: transparent;
  border: 1px solid var(--color-primary-500);
  border-radius: var(--border-radius-sm);
  color: var(--color-white);
  transition: border-color var(--transition-duration-fast) var(--transition-timing);
}

.form-group .form-control:focus {
  outline: none;
  border-color: var(--color-primary-400);
}

/* Label posicionado sobre o placeholder */
.form-group label {
  position: absolute;
  top: var(--spacing-2);
  left: var(--spacing-3);
  font-size: var(--font-size-base);
  color: var(--color-text-muted);
  background-color: transparent;
  pointer-events: none;
  transition: all var(--transition-duration-fast) var(--transition-timing);
  padding: 0 var(--spacing-1);
}

/* Faz o label “subir” quando há foco ou valor */
.form-group .form-control:focus ~ label,
.form-group .form-control:not(:placeholder-shown) ~ label,
.form-group .form-control.has-value ~ label {
  top: calc(-1 * var(--spacing-1));
  left: var(--spacing-3);
  background-color: var(--color-surface-dark);
  font-size: var(--font-size-sm);
  color: var(--color-primary-500);
}

/* Mensagem de feedback em caso de erro */
.needs-validation .form-control:invalid ~ .invalid-feedback {
  display: block;
  color: var(--color-danger);
  margin-top: var(--spacing-1);
  font-size: var(--font-size-sm);
}

/*==============================================================================
  8) SELETOR DE TIPO (botões Corrente / Poupança / Cartão / Investimento)
==============================================================================*/
.type-selector {
  display: flex;
  gap: var(--spacing-2);
  margin-bottom: var(--spacing-4);
}

.type-option {
  flex: 1;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: var(--spacing-3);
  border: 1px solid var(--color-primary-500);
  border-radius: var(--border-radius-sm);
  background-color: transparent;
  color: var(--color-text);
  cursor: pointer;
  transition: all var(--transition-duration-fast) var(--transition-timing);
}

.type-option:hover {
  border-color: var(--color-primary-400);
}

.type-option .type-icon {
  font-size: var(--font-size-lg);
  margin-bottom: var(--spacing-1);
  color: var(--color-text-muted);
  transition: color var(--transition-duration-fast) var(--transition-timing);
}

.type-option .type-name {
  font-size: var(--font-size-base);
  color: var(--color-text-muted);
  transition: color var(--transition-duration-fast) var(--transition-timing);
}

/* Quando a opção estiver ativa: fundo verde + texto branco */
.type-option.active {
  background-color: var(--color-primary-500);
}

.type-option.active .type-icon,
.type-option.active .type-name {
  color: var(--color-white);
}

/*==============================================================================
  9) ABAS (Dados Básicos / Detalhes)
==============================================================================*/
.tab-container {
  display: flex;
  border-bottom: 2px solid var(--color-primary-500);
  margin-bottom: var(--spacing-3);
  gap: var(--spacing-2);
}

.tab-btn {
  background: transparent;
  border: none;
  color: var(--color-text);
  padding: var(--spacing-2) var(--spacing-3);
  font-size: var(--font-size-base);
  cursor: pointer;
  position: relative;
  transition: color var(--transition-duration-fast) var(--transition-timing);
}

.tab-btn:hover {
  color: var(--color-primary-400);
}

.tab-btn.active {
  color: var(--color-primary-500);
}

/* Barra abaixo do botão ativo */
.tab-btn.active::after {
  content: '';
  position: absolute;
  bottom: -2px;
  left: 0;
  right: 0;
  height: 3px;
  background-color: var(--color-primary-500);
  border-radius: var(--border-radius-sm);
}

/* Conteúdo das abas: só fica visível quando tiver .active */
.tab-content {
  display: none;
  margin-bottom: var(--spacing-4);
}

.tab-content.active {
  display: block;
  animation: fadeIn var(--transition-duration-fast) var(--transition-timing);
}

/*==============================================================================
 10) EFEITO “SHAKE” NO MODAL DE EXCLUSÃO
==============================================================================*/
@keyframes shake {
  0%   { transform: translateX(0); }
  25%  { transform: translateX(-5px); }
  50%  { transform: translateX(5px); }
  75%  { transform: translateX(-5px); }
  100% { transform: translateX(0); }
}

#excluirContaModal .modal-content.shake {
  animation: shake 0.6s var(--transition-timing);
}

/*==============================================================================
 11) BOTÕES (Cancelar / Salvar / Cadastrar / Excluir)
==============================================================================*/
.btn-primary {
  background-color: var(--color-primary-500);
  border-color: var(--color-primary-500);
  color: var(--color-white);
  transition:
    background-color var(--transition-duration-fast) var(--transition-timing),
    border-color     var(--transition-duration-fast) var(--transition-timing);
}

.btn-primary:hover {
  background-color: var(--color-primary-600);
  border-color: var(--color-primary-600);
}

.btn-secondary {
  background-color: transparent;
  border-color: var(--color-border);
  color: var(--color-text);
  transition:
    background-color var(--transition-duration-fast) var(--transition-timing),
    border-color     var(--transition-duration-fast) var(--transition-timing);
}

.btn-secondary:hover {
  background-color: var(--color-background-alt);
}

.btn-danger {
  background-color: var(--color-danger);
  border-color: var(--color-danger);
  color: var(--color-white);
  transition:
    background-color var(--transition-duration-fast) var(--transition-timing),
    border-color     var(--transition-duration-fast) var(--transition-timing);
}

.btn-danger:hover {
  background-color: var(--color-danger-dark);
  border-color: var(--color-danger-dark);
}

.btn-success {
  background-color: var(--color-success);
  border-color: var(--color-success);
  color: var(--color-white);
  transition:
    background-color var(--transition-duration-fast) var(--transition-timing),
    border-color     var(--transition-duration-fast) var(--transition-timing);
}

.btn-success:hover {
  background-color: var(--color-success-dark);
  border-color: var(--color-success-dark);
}

/*==============================================================================
 12) CAMPO “SALDO” COM PREFIXO “R$”
      e correção de “appearance” para compatibilidade 
==============================================================================*/
.value-container {
  position: relative;
}

.value-container::before {
  content: 'R$';
  position: absolute;
  top: var(--spacing-2);
  left: var(--spacing-3);
  font-size: var(--font-size-base);
  color: var(--color-text-muted);
}

/* Aqui fazemos o reset de aparência do input numérico:
   1) Propriedade padrão
   2) Prefixos para navegadores antigos */
.value-container input[type="number"] {
  appearance: none;
  -webkit-appearance: none;
  -moz-appearance: textfield;
  
  padding-left: calc(var(--spacing-3) * 2);
  font-size: var(--font-size-base);
  background-color: transparent;
  border: 1px solid var(--color-primary-500);
  border-radius: var(--border-radius-sm);
  color: var(--color-white);
  box-sizing: border-box;
}

/* Remove “spinner” em WebKit/Chrome */
.value-container input::-webkit-outer-spin-button,
.value-container input::-webkit-inner-spin-button {
  -webkit-appearance: none;
  margin: 0;
}

.value-container label {
  left: calc(var(--spacing-3) * 2);
}

.value-container .form-control:focus ~ label,
.value-container .form-control:not(:placeholder-shown) ~ label {
  left: var(--spacing-3);
  background-color: var(--color-surface-dark);
}

/*==============================================================================
 13) RESPONSIVIDADE
==============================================================================*/
@media (min-width: 576px) {
  .modal-dialog {
    max-width: 500px;
    margin: var(--spacing-6) auto;
  }
}

@media (min-width: 992px) {
  .modal-lg,
  .modal-xl {
    max-width: 800px;
  }
}
